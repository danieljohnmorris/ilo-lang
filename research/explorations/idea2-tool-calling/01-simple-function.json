{
  "function": "total",
  "input": {"price": "number", "quantity": "number", "rate": "number"},
  "output": "number",
  "steps": [
    {"let": "sub", "expr": {"*": ["$input.price", "$input.quantity"]}},
    {"let": "tax", "expr": {"*": ["$sub", "$input.rate"]}},
    {"return": {"+": ["$sub", "$tax"]}}
  ]
}
