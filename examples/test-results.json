[
  {
    "idea": "idea1",
    "test_type": "examples",
    "task": "workflow",
    "output": "fn transfer\n\tfrom-account: text, to-account: text, amount: number -> text\n\tlet withdraw-result = withdraw from-account amount\n\t? withdraw-result.success == false\n\t\treturn withdraw-result.error\n\tlet deposit-result = deposit to-account amount\n\t? deposit-result.success == false\n\t\trefund from-account amount\n\t\treturn deposit-result.error\n\tlet receipt = {\n\t\tfrom: from-account,\n\t\tto: to-account,\n\t\tamount: amount,\n\t\twithdraw-id: withdraw-result.transaction-id,\n\t\tdeposit-id: deposit-result.transaction-id\n\t}\n\treturn receipt",
    "prompt_tokens": 266,
    "output_tokens": 118,
    "elapsed_s": 1.47,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea1",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "fn enrich\n\torders: list -> list\n\t? orders: [{id: 1, customer-id: 101, total: 100}, {id: 2, customer-id: 102, total: 200}] == [{id: 1, customer: \"Alice\", email: \"alice@example.com\", total: 100, discount: 20, final: 80}, {id: 2, customer: \"Bob\", email: \"bob@example.com\", total: 200, discount: 0, final: 200}]\n\tlet enriched = []\n\tfor order in orders\n\t\tlet customer = lookup-customer order.customer-id\n\t\tif customer != null\n\t\t\tlet tier = customer.tier\n\t\t\tlet discount-rate = cond tier == \"gold\" 0.2 tier == \"silver\" 0.1 0\n\t\t\tlet discount-amount = * order.total discount-rate\n\t\t\tlet final-total = - order.total discount-amount\n\t\t\tlet enriched-order = {id: order.id, customer: customer.name, email: customer.email, total: order.total, discount: discount-amount, final: final-total}\n\t\t\tlet enriched = append enriched enriched-order\n\tenriched",
    "prompt_tokens": 260,
    "output_tokens": 249,
    "elapsed_s": 3.03,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea1",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "fn approve\n\tincome: number, debt: number, score: number, amount: number -> result\n\t? income: 50000, debt: 10000, score: 600, amount: 100000 == {status: \"rejected\", reason: \"Amount exceeds limit\"}\n\t? income: 50000, debt: 25000, score: 600, amount: 100000 == {status: \"rejected\", reason: \"Debt ratio too high\"}\n\t? income: 50000, debt: 10000, score: 400, amount: 100000 == {status: \"rejected\", reason: \"Credit score too low\"}\n\t? income: 50000, debt: 10000, score: 800, amount: 100000 == {status: \"approved\", amount: 100000, rate: 3.5, monthly: 291.67}\n\tif < score 500\n\t\t{status: \"rejected\", reason: \"Credit score too low\"}\n\telse\n\t\tlet ratio = / debt income\n\t\tif > ratio 0.4\n\t\t\t{status: \"rejected\", reason: \"Debt ratio too high\"}\n\t\telse\n\t\t\tlet max_loan = * income 5\n\t\t\tif > amount max_loan\n\t\t\t\t{status: \"rejected\", reason: \"Amount exceeds limit\"}\n\t\t\telse\n\t\t\t\tlet rate = if > score 750 3.5 (if > score 650 5.0 7.5)\n\t\t\t\tlet monthly = / (* amount rate) 1200\n\t\t\t\t{status: \"approved\", amount: amount, rate: rate, monthly: monthly}",
    "prompt_tokens": 314,
    "output_tokens": 347,
    "elapsed_s": 2.63,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea1",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "fn deploy\n\tservice: text, version: text, environment: text -> text\n\t? service: \"api\", version: \"1.2.0\", environment: \"prod\" == \"success\"\n\tlet health = tool health-check service environment\n\t? health: \"unhealthy\" -> \"Service unhealthy\"\n\tlet snapshot = tool create-snapshot service environment\n\tlet snapshot_id = snapshot.id\n\tlet rollout = tool roll-out service version environment\n\t? rollout.status: \"failed\"\n\t\tlet restore = tool restore-snapshot snapshot_id\n\t\t-> rollout.error\n\tlet health2 = tool health-check service environment\n\t? health2: \"unhealthy\"\n\t\tlet restore = tool restore-snapshot snapshot_id\n\t\t-> \"Deploy failed health check\"\n\t\"success: \" + service + \" v\" + version + \" deployed to \" + environment + \" (snapshot: \" + snapshot_id + \")\"",
    "prompt_tokens": 316,
    "output_tokens": 186,
    "elapsed_s": 1.92,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea1-compact",
    "test_type": "examples",
    "task": "workflow",
    "output": "fn transfer(from-account:text,to-account:text,amount:number)->text ?from=john,to=jane,amount=100==receipt;w=withdraw from-account amount;?w.error==w.error;d=deposit to-account amount;?d.error==refund from-account amount;?d.error==d.error;+receipt from-account to-account amount w.id d.id",
    "prompt_tokens": 225,
    "output_tokens": 74,
    "elapsed_s": 1.37,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea1-compact",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "fn enrich(orders:list)->list ?[{id:1,customer-id:100,total:500},{id:2,customer-id:101,total:300}]==[{id:1,name:\"Alice\",email:\"alice@example.com\",total:500,discount:100,final:400},{id:2,name:\"Bob\",email:\"bob@example.com\",total:300,discount:0,final:300}];enriched=[];foreach order in orders;lookup=lookup-customer order.customer-id;?lookup!=null;tier=?lookup.tier==\"gold\"?0.2?lookup.tier==\"silver\"?0.1?0;discount=*order.total tier;final=-order.total discount;enriched_item={id:order.id,name:lookup.name,email:lookup.email,total:order.total,discount:discount,final:final};enriched=+enriched [enriched_item];enriched",
    "prompt_tokens": 219,
    "output_tokens": 193,
    "elapsed_s": 2.74,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea1-compact",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "fn approve(income:number,debt:number,score:number,amount:number)->string ?100000,50000,750,250000==Approved: amount=250000, rate=3.5, monthly=729.17;check1=<score 500;result1=?check1==\"Credit score too low\";check2=>(/debt income)0.4;result2=?check2==\"Debt ratio too high\";maxloan=*income 5;check3=>amount maxloan;result3=?check3==\"Amount exceeds limit\";passed=&(! check1)(! check2)(! check3);rate=?<score 650,7.5,?>score 750,3.5,5.0;monthly=/*amount rate,100,12;?passed,concat(\"Approved: amount=\",amount,\", rate=\",rate,\", monthly=\",monthly),?check1,result1,?check2,result2,result3",
    "prompt_tokens": 273,
    "output_tokens": 194,
    "elapsed_s": 2.69,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea1-compact",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "fn deploy(service:text,version:text,environment:text)->text ?service,version,environment==@hc;hc=tool health-check service environment;?hc==\"healthy\"==\"continue\"==\"error:Service unhealthy\";snap=tool create-snapshot service environment;snapshot-id=snap.id;rollout=tool roll-out service version environment;?rollout==\"success\"==\"continue\"==\"error-path\";error-path=tool restore-snapshot snapshot-id;+rollout;continue=tool health-check service environment;?continue==\"healthy\"==\"success-path\"==\"fail-path\";fail-path=tool restore-snapshot snapshot-id;+\"Deploy failed health check\";success-path=+\"Deployment successful:\"+service+\":\"+version+\":\"+environment+\":\"+snapshot-id",
    "prompt_tokens": 275,
    "output_tokens": 151,
    "elapsed_s": 2.18,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea2-tool-calling",
    "test_type": "examples",
    "task": "workflow",
    "output": "{\n  \"function\": \"transfer\",\n  \"input\": {\"from-account\": \"text\", \"to-account\": \"text\", \"amount\": \"number\"},\n  \"output\": \"object\",\n  \"steps\": [\n    {\"let\": \"withdrawal\", \"expr\": {\"call\": \"withdraw\", \"args\": {\"account\": \"$input.from-account\", \"amount\": \"$input.amount\"}}},\n    {\"if\": {\"not\": \"$withdrawal.success\"}, \"then\": [\n      {\"return\": {\"success\": false, \"error\": \"$withdrawal.error\"}}\n    ]},\n    {\"let\": \"deposit_result\", \"expr\": {\"call\": \"deposit\", \"args\": {\"account\": \"$input.to-account\", \"amount\": \"$input.amount\"}}},\n    {\"if\": {\"not\": \"$deposit_result.success\"}, \"then\": [\n      {\"call\": \"refund\", \"args\": {\"account\": \"$input.from-account\", \"amount\": \"$input.amount\"}},\n      {\"return\": {\"success\": false, \"error\": \"$deposit_result.error\"}}\n    ]},\n    {\"return\": {\n      \"success\": true,\n      \"receipt\": {\n        \"from_account\": \"$input.from-account\",\n        \"to_account\": \"$input.to-account\",\n        \"amount\": \"$input.amount\",\n        \"withdrawal_id\": \"$withdrawal.transaction_id\",\n        \"deposit_id\": \"$deposit_result.transaction_id\"\n      }\n    }}\n  ]\n}",
    "prompt_tokens": 291,
    "output_tokens": 287,
    "elapsed_s": 4.66,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea2-tool-calling",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "```json\n{\n  \"function\": \"enrich\",\n  \"input\": {\"orders\": \"list\"},\n  \"output\": \"list\",\n  \"steps\": [\n    {\"let\": \"result\", \"expr\": []},\n    {\"foreach\": {\"in\": \"$input.orders\", \"as\": \"order\"}, \"steps\": [\n      {\"let\": \"customer\", \"expr\": {\"tool\": \"lookup-customer\", \"customer-id\": \"$order.customer-id\"}},\n      {\"if\": {\"!=\": [\"$customer\", null]}, \"steps\": [\n        {\"let\": \"tier\", \"expr\": \"$customer.tier\"},\n        {\"let\": \"discount_rate\", \"expr\": {\"cond\": [\n          {\"==\": [\"$tier\", \"gold\"]}, 0.20,\n          {\"==\": [\"$tier\", \"silver\"]}, 0.10,\n          0\n        ]}},\n        {\"let\": \"discount_amount\", \"expr\": {\"*\": [\"$order.total\", \"$discount_rate\"]}},\n        {\"let\": \"final_total\", \"expr\": {\"-\": [\"$order.total\", \"$discount_amount\"]}},\n        {\"let\": \"enriched\", \"expr\": {\n          \"id\": \"$order.id\",\n          \"customer_id\": \"$order.customer-id\",\n          \"customer_name\": \"$customer.name\",\n          \"customer_email\": \"$customer.email\",\n          \"original_total\": \"$order.total\",\n          \"discount_amount\": \"$discount_amount\",\n          \"final_total\": \"$final_total\"\n        }},\n        {\"let\": \"result\", \"expr\": {\"append\": [\"$result\", \"$enriched\"]}}\n      ]}\n    ]},\n    {\"return\": \"$result\"}\n  ]\n}\n```",
    "prompt_tokens": 285,
    "output_tokens": 347,
    "elapsed_s": 4.18,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea2-tool-calling",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "```json\n{\n  \"function\": \"approve\",\n  \"input\": {\"income\": \"number\", \"debt\": \"number\", \"score\": \"number\", \"amount\": \"number\"},\n  \"output\": \"object\",\n  \"steps\": [\n    {\"if\": {\"<\": [\"$input.score\", 500]}, \"then\": {\"return\": {\"approved\": false, \"reason\": \"Credit score too low\"}}},\n    {\"let\": \"ratio\", \"expr\": {\"/\": [\"$input.debt\", \"$input.income\"]}},\n    {\"if\": {\">\": [\"$ratio\", 0.4]}, \"then\": {\"return\": {\"approved\": false, \"reason\": \"Debt ratio too high\"}}},\n    {\"let\": \"maxLoan\", \"expr\": {\"*\": [\"$input.income\", 5]}},\n    {\"if\": {\">\": [\"$input.amount\", \"$maxLoan\"]}, \"then\": {\"return\": {\"approved\": false, \"reason\": \"Amount exceeds limit\"}}},\n    {\"if\": {\">\": [\"$input.score\", 750]}, \"then\": {\"let\": \"rate\", \"expr\": 3.5}, \"else\": {\"if\": {\">\": [\"$input.score\", 650]}, \"then\": {\"let\": \"rate\", \"expr\": 5.0}, \"else\": {\"let\": \"rate\", \"expr\": 7.5}}},\n    {\"let\": \"monthly\", \"expr\": {\"/\": [{\"*\": [\"$input.amount\", \"$rate\"]}, 1200]}},\n    {\"return\": {\"approved\": true, \"amount\": \"$input.amount\", \"rate\": \"$rate\", \"monthlyPayment\": \"$monthly\"}}\n  ]\n}\n```",
    "prompt_tokens": 339,
    "output_tokens": 358,
    "elapsed_s": 2.57,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea2-tool-calling",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "```json\n{\n  \"function\": \"deploy\",\n  \"input\": {\"service\": \"text\", \"version\": \"text\", \"environment\": \"text\"},\n  \"output\": \"object\",\n  \"steps\": [\n    {\"let\": \"health_check_1\", \"expr\": {\"tool\": \"health-check\", \"args\": {\"service\": \"$input.service\", \"environment\": \"$input.environment\"}}},\n    {\"if\": {\"!=\": [\"$health_check_1.status\", \"healthy\"]}, \"then\": [{\"return\": {\"error\": \"Service unhealthy\"}}]},\n    {\"let\": \"snapshot\", \"expr\": {\"tool\": \"create-snapshot\", \"args\": {\"service\": \"$input.service\", \"environment\": \"$input.environment\"}}},\n    {\"let\": \"rollout_result\", \"expr\": {\"tool\": \"roll-out\", \"args\": {\"service\": \"$input.service\", \"version\": \"$input.version\", \"environment\": \"$input.environment\"}}},\n    {\"if\": {\"!=\": [\"$rollout_result.status\", \"success\"]}, \"then\": [\n      {\"let\": \"restore_1\", \"expr\": {\"tool\": \"restore-snapshot\", \"args\": {\"snapshot_id\": \"$snapshot.snapshot_id\"}}},\n      {\"return\": {\"error\": \"$rollout_result.error\"}}\n    ]},\n    {\"let\": \"health_check_2\", \"expr\": {\"tool\": \"health-check\", \"args\": {\"service\": \"$input.service\", \"environment\": \"$input.environment\"}}},\n    {\"if\": {\"!=\": [\"$health_check_2.status\", \"healthy\"]}, \"then\": [\n      {\"let\": \"restore_2\", \"expr\": {\"tool\": \"restore-snapshot\", \"args\": {\"snapshot_id\": \"$snapshot.snapshot_id\"}}},\n      {\"return\": {\"error\": \"Deploy failed health check\"}}\n    ]},\n    {\"return\": {\"status\": \"success\", \"service\": \"$input.service\", \"version\": \"$input.version\", \"environment\": \"$input.environment\", \"snapshot_id\": \"$snapshot.snapshot_id\"}}\n  ]\n}\n```",
    "prompt_tokens": 341,
    "output_tokens": 421,
    "elapsed_s": 2.63,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea3-constrained-decoding",
    "test_type": "examples",
    "task": "workflow",
    "output": "{\"fn\":\"transfer\",\"in\":{\"from_account\":\"text\",\"to_account\":\"text\",\"amount\":\"num\"},\"out\":\"text\",\"body\":[{\"let\":\"withdraw_result\",\"call\":\"withdraw\",\"args\":{\"account\":\"from_account\",\"amount\":\"amount\"}},{\"if\":{\"op\":\"has_error\",\"a\":\"withdraw_result\"},\"then\":[{\"ret\":\"withdraw_result\"}]},{\"let\":\"deposit_result\",\"call\":\"deposit\",\"args\":{\"account\":\"to_account\",\"amount\":\"amount\"}},{\"if\":{\"op\":\"has_error\",\"a\":\"deposit_result\"},\"then\":[{\"let\":\"refund_result\",\"call\":\"refund\",\"args\":{\"account\":\"from_account\",\"amount\":\"amount\"}},{\"ret\":\"deposit_result\"}]},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"\",\"b\":\"\"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\"From: \"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\"from_account\"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\" | To: \"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\"to_account\"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\" | Amount: \"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\"amount\"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\" | Withdraw ID: \"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":{\"op\":\"get_field\",\"obj\":\"withdraw_result\",\"field\":\"transaction_id\"}},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":\" | Deposit ID: \"},{\"let\":\"receipt\",\"op\":\"concat\",\"a\":\"receipt\",\"b\":{\"op\":\"get_field\",\"obj\":\"deposit_result\",\"field\":\"transaction_id\"}},{\"ret\":\"receipt\"}]}",
    "prompt_tokens": 259,
    "output_tokens": 356,
    "elapsed_s": 2.92,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea3-constrained-decoding",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "{\"fn\":\"enrich\",\"in\":{\"orders\":\"list\"},\"out\":\"list\",\"body\":[{\"let\":\"result\",\"val\":[]},{\"foreach\":\"order\",\"in\":\"orders\",\"body\":[{\"let\":\"customer\",\"call\":\"lookup-customer\",\"arg\":\"order.customer-id\"},{\"if\":{\"op\":\"!=\",\"a\":\"customer\",\"b\":null},\"then\":[{\"let\":\"discount_rate\",\"val\":0},{\"if\":{\"op\":\"==\",\"a\":\"customer.tier\",\"b\":\"gold\"},\"then\":[{\"let\":\"discount_rate\",\"val\":0.2}]},{\"if\":{\"op\":\"==\",\"a\":\"customer.tier\",\"b\":\"silver\"},\"then\":[{\"let\":\"discount_rate\",\"val\":0.1}]},{\"let\":\"discount_amount\",\"op\":\"*\",\"a\":\"order.total\",\"b\":\"discount_rate\"},{\"let\":\"final_total\",\"op\":\"-\",\"a\":\"order.total\",\"b\":\"discount_amount\"},{\"let\":\"enriched\",\"val\":{\"id\":\"order.id\",\"customer_name\":\"customer.name\",\"customer_email\":\"customer.email\",\"original_total\":\"order.total\",\"discount_amount\":\"discount_amount\",\"final_total\":\"final_total\"}},{\"let\":\"result\",\"op\":\"append\",\"a\":\"result\",\"b\":\"enriched\"}]}]},{\"ret\":\"result\"}]}",
    "prompt_tokens": 253,
    "output_tokens": 245,
    "elapsed_s": 2.74,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea3-constrained-decoding",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "{\"fn\":\"approve\",\"in\":{\"income\":\"num\",\"debt\":\"num\",\"score\":\"num\",\"amount\":\"num\"},\"out\":\"obj\",\"body\":[{\"if\":{\"op\":\"<\",\"a\":\"score\",\"b\":500},\"then\":[{\"ret\":{\"rejection\":\"Credit score too low\"}}]},{\"let\":\"ratio\",\"op\":\"/\",\"a\":\"debt\",\"b\":\"income\"},{\"if\":{\"op\":\">\",\"a\":\"ratio\",\"b\":0.4},\"then\":[{\"ret\":{\"rejection\":\"Debt ratio too high\"}}]},{\"let\":\"maxLoan\",\"op\":\"*\",\"a\":\"income\",\"b\":5},{\"if\":{\"op\":\">\",\"a\":\"amount\",\"b\":\"maxLoan\"},\"then\":[{\"ret\":{\"rejection\":\"Amount exceeds limit\"}}]},{\"let\":\"rate\",\"op\":\"?\",\"cond\":{\"op\":\">\",\"a\":\"score\",\"b\":750},\"true\":3.5,\"false\":{\"op\":\"?\",\"cond\":{\"op\":\">\",\"a\":\"score\",\"b\":650},\"true\":5.0,\"false\":7.5}},{\"let\":\"monthly\",\"op\":\"/\",\"a\":{\"op\":\"*\",\"a\":\"amount\",\"b\":\"rate\"},\"b\":1200},{\"ret\":{\"approved\":true,\"amount\":\"amount\",\"rate\":\"rate\",\"monthlyPayment\":\"monthly\"}}]}",
    "prompt_tokens": 307,
    "output_tokens": 257,
    "elapsed_s": 2.44,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea3-constrained-decoding",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "{\"fn\":\"deploy\",\"in\":{\"service\":\"text\",\"version\":\"text\",\"environment\":\"text\"},\"out\":\"text\",\"body\":[{\"call\":\"health-check\",\"args\":{\"service\":\"service\",\"environment\":\"environment\"},\"into\":\"health1\"},{\"if\":{\"op\":\"!=\",\"a\":\"health1.status\",\"b\":\"healthy\"},\"then\":[{\"ret\":\"Service unhealthy\"}]},{\"call\":\"create-snapshot\",\"args\":{\"service\":\"service\",\"environment\":\"environment\"},\"into\":\"snapshot\"},{\"call\":\"roll-out\",\"args\":{\"service\":\"service\",\"version\":\"version\",\"environment\":\"environment\"},\"into\":\"rollout\"},{\"if\":{\"op\":\"!=\",\"a\":\"rollout.status\",\"b\":\"success\"},\"then\":[{\"call\":\"restore-snapshot\",\"args\":{\"snapshot_id\":\"snapshot.snapshot_id\"}},{\"ret\":\"rollout.error\"}]},{\"call\":\"health-check\",\"args\":{\"service\":\"service\",\"environment\":\"environment\"},\"into\":\"health2\"},{\"if\":{\"op\":\"!=\",\"a\":\"health2.status\",\"b\":\"healthy\"},\"then\":[{\"call\":\"restore-snapshot\",\"args\":{\"snapshot_id\":\"snapshot.snapshot_id\"}},{\"ret\":\"Deploy failed health check\"}]},{\"ret\":{\"service\":\"service\",\"version\":\"version\",\"environment\":\"environment\",\"snapshot_id\":\"snapshot.snapshot_id\",\"status\":\"success\"}}]}",
    "prompt_tokens": 309,
    "output_tokens": 245,
    "elapsed_s": 2.16,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea4-ast-bytecode",
    "test_type": "examples",
    "task": "workflow",
    "output": "LET 3 CALL withdraw REF 0 REF 2\nLET 4 GET REF 3 success\nIF REF 4 JUMP 2\nRET GET REF 3 error\nLET 5 CALL deposit REF 1 REF 2\nLET 6 GET REF 5 success\nIF REF 6 JUMP 2\nLET 7 CALL refund REF 0 REF 2\nRET GET REF 5 error\nLET 8 GET REF 3 txid\nLET 9 GET REF 5 txid\nLET 10 OBJECT from REF 0 to REF 1 amount REF 2 withdraw_txid REF 8 deposit_txid REF 9\nRET REF 10",
    "prompt_tokens": 220,
    "output_tokens": 139,
    "elapsed_s": 2.21,
    "features": {
      "named_transfer": false,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": false,
      "receipt_has_both_ids": true
    },
    "score": "8/10"
  },
  {
    "idea": "idea4-ast-bytecode",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "LET 5 INDEX REF 0 REF 1\nLET 6 INDEX REF 5 0\nLET 7 INDEX REF 5 1\nLET 8 INDEX REF 5 2\nLET 9 CALL lookup-customer REF 7\nLET 10 INDEX REF 9 0\nLET 11 INDEX REF 9 1\nLET 12 INDEX REF 9 2\nLET 13 EQ REF 12 gold\nLET 14 COND REF 13 0.2 0\nLET 15 EQ REF 12 silver\nLET 16 COND REF 15 0.1 REF 14\nLET 17 MUL REF 8 REF 16\nLET 18 SUB REF 8 REF 17\nLET 19 ARRAY REF 10 REF 11 REF 8 REF 17 REF 18\nRET REF 19",
    "prompt_tokens": 214,
    "output_tokens": 178,
    "elapsed_s": 3.02,
    "features": {
      "named_enrich": false,
      "takes_orders": false,
      "iterates": false,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": false,
      "includes_customer_data": false
    },
    "score": "4/10"
  },
  {
    "idea": "idea4-ast-bytecode",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "LET 4 LT REF 2 500\nIF REF 4 RET \"Credit score too low\"\nLET 5 DIV REF 1 REF 0\nLET 6 GT REF 5 0.4\nIF REF 6 RET \"Debt ratio too high\"\nLET 7 MUL REF 0 5\nLET 8 GT REF 3 REF 7\nIF REF 8 RET \"Amount exceeds limit\"\nLET 9 GT REF 2 750\nLET 10 GT REF 2 650\nLET 11 COND REF 9 3.5 COND REF 10 5.0 7.5\nLET 12 MUL REF 3 REF 11\nLET 13 DIV REF 12 100\nLET 14 DIV REF 13 12\nRET APPROVED REF 3 REF 11 REF 14",
    "prompt_tokens": 268,
    "output_tokens": 178,
    "elapsed_s": 2.46,
    "features": {
      "named_approve": true,
      "four_inputs": false,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": false,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "8/10"
  },
  {
    "idea": "idea4-ast-bytecode",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "LET 3 CALL health-check REF 0 REF 2\nCOND REF 3 RET \"Service unhealthy\"\nLET 4 CALL create-snapshot REF 0 REF 2\nLET 5 GET REF 4 snapshot-id\nLET 6 CALL roll-out REF 0 REF 1 REF 2\nCOND NOT REF 6 CALL restore-snapshot REF 5\nCOND NOT REF 6 RET REF 6\nLET 7 CALL health-check REF 0 REF 2\nCOND NOT REF 7 CALL restore-snapshot REF 5\nCOND NOT REF 7 RET \"Deploy failed health check\"\nRET OBJECT service REF 0 version REF 1 environment REF 2 snapshot-id REF 5",
    "prompt_tokens": 270,
    "output_tokens": 142,
    "elapsed_s": 2.38,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": false
    },
    "score": "9/10"
  },
  {
    "idea": "idea5-workflow-dag",
    "test_type": "examples",
    "task": "workflow",
    "output": "name: transfer\ninput:\n  from-account: text\n  to-account: text\n  amount: number\noutput: text\nsteps:\n  withdraw:\n    tool: withdraw\n    args:\n      account: \"$.from-account\"\n      amount: \"$.amount\"\n    on-error:\n      return: \"${withdraw.error}\"\n  deposit:\n    tool: deposit\n    args:\n      account: \"$.to-account\"\n      amount: \"$.amount\"\n    on-error:\n      refund:\n        tool: refund\n        args:\n          account: \"$.from-account\"\n          amount: \"$.amount\"\n      return: \"${deposit.error}\"\n  result:\n    return: \"Receipt: Transfer ${$.amount} from ${$.from-account} to ${$.to-account}. Withdrawal ID: ${withdraw.transaction-id}, Deposit ID: ${deposit.transaction-id}\"",
    "prompt_tokens": 253,
    "output_tokens": 172,
    "elapsed_s": 1.64,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea5-workflow-dag",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "name: enrich\ninput:\n  orders: list\noutput: list\nsteps:\n  enriched:\n    loop: \"$.orders\"\n    steps:\n      lookup:\n        tool: lookup-customer\n        input:\n          customer_id: \"${item.customer-id}\"\n      discount_rate:\n        expr: \"${lookup.tier} == 'gold' ? 0.2 : ${lookup.tier} == 'silver' ? 0.1 : 0\"\n      discount_amount:\n        expr: \"${item.total} * ${discount_rate}\"\n      final_total:\n        expr: \"${item.total} - ${discount_amount}\"\n      enriched_order:\n        return:\n          id: \"${item.id}\"\n          customer_name: \"${lookup.name}\"\n          customer_email: \"${lookup.email}\"\n          original_total: \"${item.total}\"\n          discount_amount: \"${discount_amount}\"\n          final_total: \"${final_total}\"",
    "prompt_tokens": 247,
    "output_tokens": 178,
    "elapsed_s": 2.41,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": false,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "8/10"
  },
  {
    "idea": "idea5-workflow-dag",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "name: approve\ninput:\n  income: number\n  debt: number\n  score: number\n  amount: number\noutput: object\nsteps:\n  check_score:\n    expr: \"$.score < 500\"\n  score_rejection:\n    if: \"${check_score}\"\n    return: {\"status\": \"rejected\", \"reason\": \"Credit score too low\"}\n  debt_ratio:\n    expr: \"$.debt / $.income\"\n  check_ratio:\n    expr: \"${debt_ratio} > 0.4\"\n  ratio_rejection:\n    if: \"${check_ratio}\"\n    return: {\"status\": \"rejected\", \"reason\": \"Debt ratio too high\"}\n  max_loan:\n    expr: \"$.income * 5\"\n  check_amount:\n    expr: \"$.amount > ${max_loan}\"\n  amount_rejection:\n    if: \"${check_amount}\"\n    return: {\"status\": \"rejected\", \"reason\": \"Amount exceeds limit\"}\n  determine_rate:\n    expr: \"$.score > 750 ? 3.5 : ($.score > 650 ? 5.0 : 7.5)\"\n  monthly_payment:\n    expr: \"$.amount * ${determine_rate} / 100 / 12\"\n  result:\n    return: {\"status\": \"approved\", \"amount\": \"$.amount\", \"rate\": \"${determine_rate}\", \"monthly_payment\": \"${monthly_payment}\"}",
    "prompt_tokens": 301,
    "output_tokens": 292,
    "elapsed_s": 2.35,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea5-workflow-dag",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "name: deploy\ninput:\n  service: text\n  version: text\n  environment: text\noutput: object\nsteps:\n  health_check_pre:\n    tool: health-check\n    args:\n      service: $.service\n      environment: $.environment\n    catch:\n      return:\n        error: \"Service unhealthy\"\n  create_snapshot:\n    tool: create-snapshot\n    args:\n      service: $.service\n      environment: $.environment\n  snapshot_id:\n    expr: \"${create_snapshot.snapshot-id}\"\n  roll_out:\n    tool: roll-out\n    args:\n      service: $.service\n      version: $.version\n      environment: $.environment\n    catch:\n      restore:\n        tool: restore-snapshot\n        args:\n          snapshot-id: \"${snapshot_id}\"\n      return:\n        error: \"${roll_out.error}\"\n  health_check_post:\n    tool: health-check\n    args:\n      service: $.service\n      environment: $.environment\n    catch:\n      restore:\n        tool: restore-snapshot\n        args:\n          snapshot-id: \"${snapshot_id}\"\n      return:\n        error: \"Deploy failed health check\"\n  result:\n    return:\n      status: \"success\"\n      service: $.service\n      version: $.version\n      environment: $.environment\n      snapshot-id: \"${snapshot_id}\"",
    "prompt_tokens": 303,
    "output_tokens": 271,
    "elapsed_s": 2.09,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea6-mcp-composition",
    "test_type": "examples",
    "task": "workflow",
    "output": "{\"meta\":{\"input\":{\"from-account\":\"text\",\"to-account\":\"text\",\"amount\":\"number\"},\"output\":\"object\"},\"steps\":[{\"let\":\"withdraw_result\",\"expr\":{\"tool\":\"withdraw\",\"args\":{\"account\":\"$.from-account\",\"amount\":\"$.amount\"}}},{\"if\":{\"not\":{\"ok\":\"$withdraw_result\"}},\"then\":{\"err\":\"$withdraw_result.error\"}},{\"let\":\"deposit_result\",\"expr\":{\"tool\":\"deposit\",\"args\":{\"account\":\"$.to-account\",\"amount\":\"$.amount\"}}},{\"if\":{\"not\":{\"ok\":\"$deposit_result\"}},\"then\":[{\"tool\":\"refund\",\"args\":{\"account\":\"$.from-account\",\"amount\":\"$.amount\"}},{\"err\":\"$deposit_result.error\"}]},{\"ok\":{\"receipt\":{\"from\":\"$.from-account\",\"to\":\"$.to-account\",\"amount\":\"$.amount\",\"withdraw_id\":\"$withdraw_result.transaction_id\",\"deposit_id\":\"$deposit_result.transaction_id\"}}}]}",
    "prompt_tokens": 253,
    "output_tokens": 177,
    "elapsed_s": 2.15,
    "features": {
      "named_transfer": false,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea6-mcp-composition",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "{\"meta\":{\"input\":{\"orders\":\"list\"},\"output\":\"list\"},\"steps\":[{\"let\":\"enriched\",\"expr\":[]},{\"foreach\":{\"in\":\"$.orders\",\"as\":\"order\",\"do\":[{\"call\":{\"tool\":\"lookup-customer\",\"args\":{\"customer_id\":\"$order.customer-id\"},\"on_success\":\"customer_data\",\"on_error\":\"skip\"}},[{\"let\":\"tier\",\"expr\":\"$customer_data.tier\"},{\"let\":\"discount_rate\",\"expr\":{\"cond\":[{\"==\":[\"$tier\",\"gold\"]},0.2,{\"cond\":[{\"==\":[\"$tier\",\"silver\"]},0.1,0]}]}},{\"let\":\"discount_amount\",\"expr\":{\"*\":[\"$order.total\",\"$discount_rate\"]}},{\"let\":\"final_total\",\"expr\":{\"-\":[\"$order.total\",\"$discount_amount\"]}},{\"append\":{\"to\":\"$enriched\",\"value\":{\"id\":\"$order.id\",\"customer_name\":\"$customer_data.name\",\"customer_email\":\"$customer_data.email\",\"original_total\":\"$order.total\",\"discount_amount\":\"$discount_amount\",\"final_total\":\"$final_total\"}}}]]}},{\"ok\":\"$enriched\"}]}",
    "prompt_tokens": 247,
    "output_tokens": 223,
    "elapsed_s": 2.65,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": true,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea6-mcp-composition",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "{\"meta\":{\"input\":{\"income\":\"number\",\"debt\":\"number\",\"score\":\"number\",\"amount\":\"number\"},\"output\":\"object\"},\"steps\":[{\"if\":{\"<\":[\"$.score\",500]},\"then\":{\"ok\":{\"reason\":\"Credit score too low\",\"approved\":false}}},{\"let\":\"ratio\",\"expr\":{\"/\":[[\"$.debt\"],[\"$.income\"]]}},{\"if\":{\">\":[\"$ratio\",0.4]},\"then\":{\"ok\":{\"reason\":\"Debt ratio too high\",\"approved\":false}}},{\"let\":\"max_loan\",\"expr\":{\"*\":[\"$.income\",5]}},{\"if\":{\">\":[\"$.amount\",\"$max_loan\"]},\"then\":{\"ok\":{\"reason\":\"Amount exceeds limit\",\"approved\":false}}},{\"let\":\"rate\",\"expr\":{\"?\":{\">\":[[\"$.score\"],750]},3.5,{\"?\":{\">\":[\"$.score\",650]},5.0,7.5}}}},{\"let\":\"monthly\",\"expr\":{\"/\":[{\"*\":[\"$.amount\",\"$rate\",0.01]},12]}},{\"ok\":{\"approved\":true,\"amount\":\"$.amount\",\"rate\":\"$rate\",\"monthly_payment\":\"$monthly\"}}]}}",
    "prompt_tokens": 301,
    "output_tokens": 234,
    "elapsed_s": 2.95,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea6-mcp-composition",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "{\"meta\":{\"input\":{\"service\":\"text\",\"version\":\"text\",\"environment\":\"text\"},\"output\":\"object\"},\"steps\":[{\"tool\":\"health-check\",\"args\":{\"service\":\"$.service\",\"environment\":\"$.environment\"},\"let\":\"health1\"},{\"if\":{\"eq\":[\"$health1.status\",\"unhealthy\"]},\"then\":{\"error\":\"Service unhealthy\"}},{\"tool\":\"create-snapshot\",\"args\":{\"service\":\"$.service\",\"environment\":\"$.environment\"},\"let\":\"snapshot\"},{\"tool\":\"roll-out\",\"args\":{\"service\":\"$.service\",\"version\":\"$.version\",\"environment\":\"$.environment\"},\"let\":\"rollout\"},{\"if\":{\"eq\":[\"$rollout.status\",\"failed\"]},\"then\":{\"tool\":\"restore-snapshot\",\"args\":{\"snapshot-id\":\"$snapshot.snapshot-id\"},\"let\":\"restore\"},{\"error\":\"$rollout.error\"}},{\"tool\":\"health-check\",\"args\":{\"service\":\"$.service\",\"environment\":\"$.environment\"},\"let\":\"health2\"},{\"if\":{\"eq\":[\"$health2.status\",\"unhealthy\"]},\"then\":{\"tool\":\"restore-snapshot\",\"args\":{\"snapshot-id\":\"$snapshot.snapshot-id\"},\"let\":\"restore2\"},{\"error\":\"Deploy failed health check\"}},{\"ok\":{\"service\":\"$.service\",\"version\":\"$.version\",\"environment\":\"$.environment\",\"snapshot-id\":\"$snapshot.snapshot-id\"}}]}",
    "prompt_tokens": 303,
    "output_tokens": 249,
    "elapsed_s": 2.16,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea7-dense-wire",
    "test_type": "examples",
    "task": "workflow",
    "output": "transfer(from-account:text to-account:text amount:number)->text;withdraw-result=?withdraw from-account amount;withdraw-id=.withdraw-result id;withdraw-error=.withdraw-result error;?withdraw-error return withdraw-error;deposit-result=?deposit to-account amount;deposit-id=.deposit-result id;deposit-error=.deposit-result error;?deposit-error refund-result=?refund from-account amount;return deposit-error;receipt=@\"Transfer from \" from-account \" to \" to-account \" amount \" amount \" withdraw-tx \" withdraw-id \" deposit-tx \" deposit-id;return receipt",
    "prompt_tokens": 212,
    "output_tokens": 111,
    "elapsed_s": 1.96,
    "features": {
      "named_transfer": true,
      "three_inputs": true,
      "calls_withdraw": true,
      "calls_deposit": true,
      "handles_withdraw_err": true,
      "handles_deposit_err": true,
      "compensates_refund": true,
      "refund_after_deposit": true,
      "returns_receipt": true,
      "receipt_has_both_ids": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea7-dense-wire",
    "test_type": "examples",
    "task": "data_pipeline",
    "output": "enrich(orders:list)->list;result=[];foreach order in orders{customer=lookup-customer order.customer-id;if customer{discount=switch customer.tier{case \"gold\":*order.total 0.2;case \"silver\":*order.total 0.1;default:0};final=-order.total discount;enriched={id:order.id;name:customer.name;email:customer.email;original:order.total;discount:discount;final:final};result=+result enriched}};result",
    "prompt_tokens": 206,
    "output_tokens": 108,
    "elapsed_s": 1.71,
    "features": {
      "named_enrich": true,
      "takes_orders": true,
      "iterates": true,
      "calls_lookup": true,
      "handles_lookup_fail": false,
      "tier_check": true,
      "calculates_discount": true,
      "returns_list": true,
      "includes_final_total": true,
      "includes_customer_data": true
    },
    "score": "9/10"
  },
  {
    "idea": "idea7-dense-wire",
    "test_type": "examples",
    "task": "decision_logic",
    "output": "approve(income:number debt:number score:number amount:number)->result;check1=<score 500;reject1=?check1 \"Credit score too low\" \"\";ratio=*debt /income 1;check2=>ratio 0.4;reject2=?check2 \"Debt ratio too high\" \"\";maxloan=*income 5;check3=>amount maxloan;reject3=?check3 \"Amount exceeds limit\" \"\";rate=?<score 650 7.5 ?<score 750 5.0 3.5;payment=*amount rate /100 12;approved=?|check1 check2 check3 rejected approved;result=?|check1 check2 check3 ?|check1 check2 reject2 reject1 ?check3 reject3 {amount:amount rate:rate payment:payment}",
    "prompt_tokens": 260,
    "output_tokens": 168,
    "elapsed_s": 2.6,
    "features": {
      "named_approve": true,
      "four_inputs": true,
      "credit_check": true,
      "debt_ratio": true,
      "max_loan": true,
      "three_rejections": true,
      "rate_tiers": true,
      "rate_values": true,
      "monthly_calc": true,
      "returns_approved": true
    },
    "score": "10/10"
  },
  {
    "idea": "idea7-dense-wire",
    "test_type": "examples",
    "task": "api_orchestration",
    "output": "deploy(service:text version:text environment:text)->text;hc1=health-check(service environment);?hc1 \"Service unhealthy\";snap=create-snapshot(service environment);snap-id=.snap-id;ro=roll-out(service version environment);?!ro restore-snapshot(snap-id);?!ro ro;hc2=health-check(service environment);?!hc2 restore-snapshot(snap-id);?!hc2 \"Deploy failed health check\";\"Success: service=\"service \" version=\"version \" environment=\"environment \" snapshot-id=\"snap-id",
    "prompt_tokens": 262,
    "output_tokens": 106,
    "elapsed_s": 2.12,
    "features": {
      "named_deploy": true,
      "three_inputs": true,
      "calls_health": true,
      "calls_snapshot": true,
      "calls_rollout": true,
      "stores_snapshot_id": true,
      "handles_rollout_fail": true,
      "rollback_on_fail": true,
      "post_deploy_health": true,
      "returns_success": true
    },
    "score": "10/10"
  }
]